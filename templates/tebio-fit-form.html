{% extends "base.html" %}

{% block extra_head %}
    <script type='text/javascript'>
        var numFields = 3;

        function addField(){

            if (numFields > 9){
                return true;
            }

            var container = document.getElementById("fileList");
            var newNum = (numFields + 1).toString();

            var new_div = document.createElement("div");
            new_div.setAttribute("class", "form-group");
            container.appendChild(new_div);

            var label = document.createElement("label");
            label.setAttribute('for', "file" + newNum);
            label.innerHTML = "File " + newNum + ":";
            new_div.appendChild(label);

            var input = document.createElement("input");
            input.type="file";
            input.name = "file" + newNum;
            new_div.appendChild(input);

           numFields = numFields + 1;
            return true;
        }
    </script>
{%  endblock %}

{% block content %}

    <h1 class="title">Upload Form</h1>


    <div class="jumbotron">
        <form id = "main_form" role="form" class="form" method=post enctype=multipart/form-data>

            <div>
                <h3>Configuration File</h3>
                Select the ABC-sysbio configuration file to upload (has a .xml extension).

                <div class="form-group">
                    <label for="configFile">Configuration File:</label>
                    <input type=file name="configFile">
                </div>

            </div>

            <div>
                <h3>Model Files</h3>
                Select model files to upload (must be in SBML format and have .xml or .sbml extension).

                <div id="fileList">
                    <div class="form-group">
                        <label for="file1">File 1:</label>
                        <input type=file name="file1">
                    </div>
                    <div class="form-group">
                        <label for="file2">File 2:</label>
                        <input type=file name="file2">
                    </div>
                    <div class="form-group">
                        <label for="file3">File 3:</label>
                        <input type=file name="file3">
                    </div>
                </div>

                 <button type="button" class="btn btn-default" onclick="addField()">Add another file</button>
            </div>

            <button type="submit" class="btn btn-default">Convert</button>
        </form>
    </div>

{%  endblock %}
